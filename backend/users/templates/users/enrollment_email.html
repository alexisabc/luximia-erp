<!DOCTYPE html>
<html lang="es" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>
  <meta charset="utf-8">
  <meta name="x-apple-disable-message-reformatting">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no, date=no, address=no, email=no">
  <title>Invitación a {{ company_name|default:'Sistema ERP' }}</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" media="screen">
  <style>
    /* Reset Styles */
    .body {
      width: 100% !important;
      height: 100% !important;
      padding: 0 !important;
      margin: 0 !important;
    }

    table {
      border-collapse: collapse !important;
    }

    a {
      color: #000000;
      text-decoration: none;
    }

    /* Typography */
    body,
    table,
    td,
    p,
    a,
    li,
    blockquote {
      -ms-text-size-adjust: 100%;
      -webkit-text-size-adjust: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
    }

    /* Interactive */
    .btn-hover:hover {
      opacity: 0.9 !important;
      box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2) !important;
    }

    /* Responsive Mobile */
    @media screen and (max-width: 600px) {
      .email-container {
        width: 100% !important;
        max-width: 100% !important;
      }

      .content-padding {
        padding: 24px !important;
      }

      .mobile-center {
        text-align: center !important;
      }

      .mobile-full-width {
        width: 100% !important;
        display: block !important;
      }
    }

    /* Dark Mode Support (Apple Mail, Outlook, iOS) */
    @media (prefers-color-scheme: dark) {
      .body {
        background-color: #0f172a !important;
      }

      .bg-card {
        background-color: #1e293b !important;
        border-color: #334155 !important;
      }

      .text-heading {
        color: #f8fafc !important;
      }

      .text-body {
        color: #cbd5e1 !important;
      }

      .text-muted {
        color: #94a3b8 !important;
      }

      .divider {
        border-color: #334155 !important;
      }
    }
  </style>
</head>

<body class="body" style="background-color: #f8fafc; margin: 0; padding: 0;">

  <div
    style="display: none; font-size: 1px; color: #f8fafc; line-height: 1px; font-family: 'Inter', sans-serif; max-height: 0px; max-width: 0px; opacity: 0; overflow: hidden;">
    Has sido invitado a colaborar en {{ company_name }}. Activa tu cuenta ahora.
  </div>

  <table role="presentation" width="100%" border="0" cellspacing="0" cellpadding="0" style="background-color: #f8fafc;"
    class="body">
    <tr>
      <td align="center" style="padding: 40px 16px;">

        <!-- Main Container -->
        <table role="presentation" class="email-container" width="540" border="0" cellspacing="0" cellpadding="0"
          style="width: 540px; margin: 0 auto;">

          <!-- BRAND LOGO -->
          <tr>
            <td align="center" style="padding-bottom: 32px;">
              <a href="{{ frontend_url|default:'#' }}">
                {% if logo_url %}
                <img src="{{ logo_url }}" alt="{{ company_name }}" width="150"
                  style="height: auto; width: 150px; max-width: 200px; border: 0; display: block;">
                {% else %}
                <span class="text-heading"
                  style="font-size: 20px; font-weight: 700; color: #0f172a; letter-spacing: -0.5px;">{{ company_name
                  }}</span>
                {% endif %}
              </a>
            </td>
          </tr>

          <!-- CARD -->
          <tr>
            <td class="bg-card content-padding"
              style="background-color: #ffffff; border-radius: 16px; padding: 48px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025); border: 1px solid #e2e8f0;">

              <!-- Icon/Heading -->
              <table role="presentation" border="0" cellspacing="0" cellpadding="0" width="100%">
                <tr>
                  <td align="left" style="padding-bottom: 24px;">
                    <h1 class="text-heading"
                      style="margin: 0; font-size: 24px; font-weight: 700; color: #0f172a; letter-spacing: -0.5px; line-height: 1.3;">
                      Hola, {{ display_name|default:'Colaborador' }}
                    </h1>
                  </td>
                </tr>
              </table>

              <!-- Body Text -->
              <p class="text-body" style="margin: 0 0 24px; font-size: 16px; line-height: 26px; color: #475569;">
                Te damos la bienvenida al equipo de <strong>{{ company_name }}</strong>.
              </p>
              <p class="text-body" style="margin: 0 0 32px; font-size: 16px; line-height: 26px; color: #475569;">
                Se ha configurado tu acceso administrativo. Para comenzar a gestionar la plataforma, por favor valida tu
                identidad y crea tu contraseña segura.
              </p>

              <!-- Main Button -->
              <table role="presentation" border="0" cellspacing="0" cellpadding="0" width="100%">
                <tr>
                  <td align="left">
                    <a href="{{ enroll_url }}" target="_blank" class="btn-hover"
                      style="display: inline-block; padding: 14px 32px; background-color: #000000; color: #ffffff; font-size: 15px; font-weight: 600; text-decoration: none; border-radius: 8px; text-align: center; mso-padding-alt: 0;">
                      <!--[if mso]>
                      <i style="letter-spacing: 25px; mso-font-width: -100%; mso-text-raise: 30pt;">&nbsp;</i>
                      <![endif]-->
                      <span style="mso-text-raise: 15pt;">Configurar mi Cuenta &rarr;</span>
                      <!--[if mso]>
                      <i style="letter-spacing: 25px; mso-font-width: -100%;">&nbsp;</i>
                      <![endif]-->
                    </a>
                  </td>
                </tr>
              </table>

              <!-- Expiration Warning -->
              <p class="text-muted" style="margin: 32px 0 0; font-size: 14px; line-height: 22px; color: #64748b;">
                Por seguridad, este enlace expirará en <strong>{{ link_validity }}</strong>.
              </p>

              <!-- Divider -->
              <table role="presentation" border="0" cellspacing="0" cellpadding="0" width="100%">
                <tr>
                  <td class="divider" style="padding: 40px 0; border-bottom: 1px solid #e2e8f0;"></td>
                </tr>
              </table>

              <!-- Fallback Link -->
              <p class="text-muted text-body"
                style="margin: 40px 0 0; font-size: 12px; line-height: 20px; color: #94a3b8; word-break: break-all;">
                Si el botón superior no funciona, copia y pega este enlace en tu navegador:<br>
                <a href="{{ enroll_url }}" style="color: #475569; text-decoration: underline;">{{ enroll_url }}</a>
              </p>

            </td>
          </tr>

          <!-- Footer -->
          <tr>
            <td align="center" style="padding-top: 32px;">
              <p class="text-muted"
                style="margin: 0; font-size: 12px; line-height: 20px; color: #94a3b8; text-align: center;">
                © {% now "Y" %} {{ company_name }}. Todos los derechos reservados.<br>
                Has recibido este mensaje porque tienes una cuenta activa en el sistema.
              </p>
            </td>
          </tr>

        </table>

      </td>
    </tr>
  </table>

</body>

</html>